<div class="layout__column">
  <h2 class="layout__header">Historia</h2>
  <div class="layout__box">
    <div class="layout__row --history-btn">
      @for (training of trainings; track $index) {
      <div class="button" [ngClass]="{active: training._id === activeId}">
        <button
          type="button"
          (click)="getHistoryTraining(training._id ?? '')"
          class="button__control"
        >
          <div>{{training.name}}</div>
          <div>Łączna liczba wpisów: {{training.historyCount ?? 0}}</div>
        </button>
      </div>
      }
    </div>
  </div>
  @if(allHistoryTraining.length > 0){
  <div class="layout__box">
    @for (historyTraining of allHistoryTraining; track $index) {
    <div class="history">
      <div class="history__box">
        <span class="history__name">Data treningu: </span>
        <span class="history__value"
          >{{historyTraining.date | date:'yyyy-MM-dd HH:MM'}}</span
        >
      </div>
      <div class="history__box">
        <span class="history__name">Czas treningu: </span>
        <span class="history__value"
          >{{format(historyTraining.totalTime)}} h</span
        >
      </div>
      <div class="history__box">
        <span class="history__name">Wykonane ćwiczenia:</span>
        <div class="exercise mt-1">
          @for (exercise of historyTraining.exercises; track $index) {
          <div
            class="exercise__box"
            [ngClass]="{'exercise__box--break': exercise.isBreak}"
          >
            <!-- @if(!exercise.isBreak){ -->
            <span>{{exercise.name}}</span>
            <span>{{exercise.comment}}</span>
            <span>Przerwa między seriami: {{exercise.breakTime}} s</span>
            <div class="set">
              <div class="set__series">Serie:</div>
              @for (set of exercise.sets; track $index) {
              <div class="set__box">
                <span>{{set.repsCount}} - {{set.weight}} kg</span>
              </div>
              }
            </div>
            <!-- }@else {
            <span class="exercise__break">{{exercise.name}}</span>
            <span>Czas trwania przerwy: {{exercise.breakTime}} s</span>
            } -->
          </div>
          }
        </div>
      </div>
    </div>
    }
  </div>
  }
</div>
